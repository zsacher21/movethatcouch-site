/*! qrcode-generator (MIT) â€“ compact single-file build */
!function(){function e(e){this.mode=s.MODE_8BIT_BYTE,this.data=e}function t(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);this.num=e,this.shift=t}function o(){this.LOG_TABLE=new Array(256),this.EXP_TABLE=new Array(256);for(var e=0;e<8;e++)this.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)this.EXP_TABLE[e]=this.EXP_TABLE[e-4]^this.EXP_TABLE[e-5]^this.EXP_TABLE[e-6]^this.EXP_TABLE[e-8];for(e=0;e<255;e++)this.LOG_TABLE[this.EXP_TABLE[e]]=e}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s={MODE_8BIT_BYTE:1,ERROR_CORRECT_LEVEL_L:1,ERROR_CORRECT_LEVEL_M:0,ERROR_CORRECT_LEVEL_Q:3,ERROR_CORRECT_LEVEL_H:2};e.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var u={getRSBlocks:function(e,r){var n=[new t(26,19),new t(26,16),new t(26,13),new t(26,9),new t(44,34),new t(44,28),new t(44,22),new t(44,16),new t(70,55),new t(70,44),new t(70,34),new t(70,26),new t(100,80),new t(100,64),new t(100,48),new t(100,36)];return[n[4*e+(r==s.ERROR_CORRECT_LEVEL_L?0:r==s.ERROR_CORRECT_LEVEL_M?1:r==s.ERROR_CORRECT_LEVEL_Q?2:3)]]}};r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<t.length;r++)t[r]=0;for(r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=a.gexp(a.glog(this.get(r))+a.glog(e.get(n)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=a.glog(this.get(0))-a.glog(e.get(0)),r=this.num.slice(),o=0;o<e.getLength();o++)r[o]^=a.gexp(a.glog(e.get(o))+t);return new n(r,0).mod(e)}};var a=new o;i.prototype={addData:function(t){this.dataList.push(new e(t)),this.dataCache=null},isDark:function(e,t){if(null==this.modules[e][t])throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,0)},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupTimingPattern(),this.setupTypeInfo(e,t),null==this.dataCache&&(this.dataCache=this.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=r>=0&&r<=6&&(0==n||6==n)||n>=0&&n<=6&&(0==r||6==r)||r>=2&&r<=4&&n>=2&&n<=4)},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0),null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupTypeInfo:function(e,t){for(var r=0;r<15;r++){var n=!e&&r%2==0;r<6?this.modules[r][8]=n:r<8?this.modules[r+1][8]=n:this.modules[this.moduleCount-15+r][8]=n,r<8?this.modules[8][this.moduleCount-r-1]=n:r<9?this.modules[8][15-r-1+1]=n:this.modules[8][15-r-1]=n}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,o=7,i=0,s=this.moduleCount-1;s>0;s-=2){6==s&&s--;for(;;){for(var u=0;u<2;u++)if(null==this.modules[n][s-u]){var a=!1;i<e.length&&(a=1==(e[i]>>>o&1));var c=(n+s-u)%2==0;this.modules[n][s-u]=c?!a:a,--o,-1==o&&(i++,o=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},createData:function(e,t,n){for(var o=u.getRSBlocks(e,t),i=new r,s=0;s<n.length;s++){var a=n[s];i.put(a.mode,4),i.put(a.getLength(),8),a.write(i)}for(;i.length%8!=0;)i.putBit(!1);for(var c=0,l=0;l<o.length;l++)c+=o[l].dataCount;for(var f=[],h=0;h<i.buffer.length;h++)f.push(i.buffer[h]);for(var d=[236,17],m=0;f.length<c;)f.push(d[m++%2]);return f}};window.QRCode={toCanvas:function(e,t,r,n){try{var o=new i(4,s.ERROR_CORRECT_LEVEL_M);o.addData(t),o.make();var a=o.getModuleCount(),c=e.getContext("2d"),l=r&&r.width?r.width:220,f=r&&null!=r.margin?r.margin:2;f=Math.max(0,f);var h=l,p=(l-2*f)/a;c.clearRect(0,0,e.width,e.height),e.width=h,e.height=h,c.fillStyle="#fff",c.fillRect(0,0,h,h),c.fillStyle="#000";for(var d=0;d<a;d++)for(var m=0;m<a;m++)o.isDark(d,m)&&c.fillRect(f+m*p,f+d*p,Math.ceil(p),Math.ceil(p));n&&n(null)}catch(e){n&&n(e)}}}}();
